# ğŸ“ Handwritten Answer Evaluation App using OCR + XLNet

An end-to-end machine learning application that extracts handwritten answers from images and evaluates them using a custom XLNet model trained on semantic similarity.

---

## ğŸš€ Live Demo

ğŸ‘‰ [Try it on Hugging Face Spaces](https://huggingface.co/spaces/yeswanthvarma/xlnet-evaluator-app)

---

## ğŸ“Œ Project Overview

This app takes images of handwritten answers and performs:
1. **OCR** to extract text from question, student answer, and reference answer.
2. **Similarity scoring** using a custom-trained XLNet model.
3. **Bonus logic** to adjust the final score based on thresholds.
4. **User interface** to upload images and view the evaluated score.

---

## ğŸ§  Core Technologies

- **FastAPI**: Web framework
- **EasyOCR**: For extracting handwritten text
- **Hugging Face Transformers**: XLNet model
- **Custom Training**: Trained on Q-A-R triplets
- **Docker**: For containerized deployment
- **Hugging Face Spaces**: Live hosted app

---

## ğŸ§© Architecture & Pipeline

### ğŸ” Full Flow

```mermaid
graph TD
    A[User Uploads Images] --> B[FastAPI Backend]
    B --> C[OCR with EasyOCR + OpenCV]
    C --> D[Text Extracted: Q, A, R]
    D --> E["Q [SEP] A [SEP] R"]
    E --> F[XLNet Model]
    F --> G[Score âˆˆ 0â€“100]
    G --> H[Bonus Logic]
    H --> I[Final Score â†’ Frontend]
```

### ğŸ§  Model Architecture

```plaintext
Input: Question + Student Answer + Reference Answer
â†“
Tokenizer (XLNet)
â†“
XLNet Encoder
â†“
Linear (768 â†’ 256 â†’ 64 â†’ 1)
â†“
Sigmoid + Score Scaling
â†“
Output: Score [0â€“100]
```

---

## ğŸ“¦ Folder Structure

```
answer-evaluation-app/
â”œâ”€â”€ app.py                     # FastAPI application
â”œâ”€â”€ requirements.txt           # Dependencies
â”œâ”€â”€ Dockerfile                 # For Hugging Face deployment
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ image_processor.py     # EasyOCR + preprocessing
â”‚   â””â”€â”€ xlnet_model.py         # Model load and prediction
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html             # Frontend HTML
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ css/style.css          # UI styling
â”‚   â”œâ”€â”€ js/main.js             # JS for client interaction
â”‚   â””â”€â”€ uploads/               # Uploaded image storage
```

---

## ğŸ” Model Details

- **Base Model**: `xlnet-base-cased` (Hugging Face)
- **Custom Trained On**: Question, student answer, reference answer, and human-evaluated scores
- **Loss**: MSELoss
- **Output**: Score from 0 to 100
- **Model Location**: [yeswanthvarma/xlnet-evaluator-model](https://huggingface.co/yeswanthvarma/xlnet-evaluator-model)

---

## ğŸ³ Run Locally with Docker

```bash
docker build -t answer-eval .
docker run -p 7860:7860 answer-eval
```

Then visit: [http://localhost:7860](http://localhost:7860)

---

## âœï¸ Sample Use Case

- Upload 3 images:
  - Question image
  - Student handwritten answer
  - Reference answer
- App will:
  - Extract text
  - Score similarity using model
  - Apply bonus logic
  - Display final score and extracted text

---

## ğŸ§‘â€ğŸ’» Author

**Yeswanth Varma Gottumukkala**  
- Email: yeswanthvarma.g@gmail.com  
- Hugging Face: [@yeswanthvarma](https://huggingface.co/yeswanthvarma)

---

## ğŸ“œ License

This project is for educational and research purposes.  
Model and app are freely available to explore on Hugging Face Spaces.
